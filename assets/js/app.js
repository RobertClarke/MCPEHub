var CountUp=function(t,e,i,n,o,s){for(var r=0,a=["webkit","moz","ms","o"],l=0;l<a.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[a[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[l]+"CancelAnimationFrame"]||window[a[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-r)),n=window.setTimeout(function(){t(e+i)},i);return r=e+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};for(var d in s)s.hasOwnProperty(d)&&(this.options[d]=s[d]);""===this.options.separator&&(this.options.useGrouping=!1),this.options.prefix||(this.options.prefix=""),this.options.suffix||(this.options.suffix=""),this.d="string"==typeof t?document.getElementById(t):t,this.startVal=Number(e),isNaN(e)&&(this.startVal=Number(e.match(/[\d]+/g).join(""))),this.endVal=Number(i),isNaN(i)&&(this.endVal=Number(i.match(/[\d]+/g).join(""))),this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.decimals=Math.max(0,n||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*Number(o)||2e3;var c=this;this.version=function(){return"1.5.3"},this.printValue=function(t){var e=isNaN(t)?"--":c.formatNumber(t);"INPUT"==c.d.tagName?this.d.value=e:"text"==c.d.tagName?this.d.textContent=e:this.d.innerHTML=e},this.easeOutExpo=function(t,e,i,n){return 1024*i*(-Math.pow(2,-10*t/n)+1)/1023+e},this.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var e=t-c.startTime;c.remaining=c.duration-e,c.frameVal=c.options.useEasing?c.countDown?c.startVal-c.easeOutExpo(e,0,c.startVal-c.endVal,c.duration):c.easeOutExpo(e,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.startVal-(c.startVal-c.endVal)*(e/c.duration):c.startVal+(c.endVal-c.startVal)*(e/c.duration),c.frameVal=c.countDown?c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),e<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},this.start=function(t){return c.callback=t,isNaN(c.endVal)||isNaN(c.startVal)||c.startVal===c.endVal?(console.log("countUp error: startVal or endVal is not a number"),c.printValue(i)):c.rAF=requestAnimationFrame(c.count),!1},this.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},this.reset=function(){c.paused=!1,delete c.startTime,c.startVal=e,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},this.update=function(t){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(t),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},this.formatNumber=function(t){t=t.toFixed(c.decimals),t+="";var e,i,n,o;if(e=t.split("."),i=e[0],n=e.length>1?c.options.decimal+e[1]:"",o=/(\d+)(\d{3})/,c.options.useGrouping)for(;o.test(i);)i=i.replace(o,"$1"+c.options.separator+"$2");return c.options.prefix+i+n+c.options.suffix},c.printValue(c.startVal)};!function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,s=e.length;s>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,s=o?n.forward:n.backward;for(var r in this.waypoints[i]){var a=this.waypoints[i][r],l=n.oldScroll<a.triggerPoint,d=n.newScroll>=a.triggerPoint,c=l&&d,u=!l&&!d;(c||u)&&(a.queueTrigger(s),t[a.group.id]=a.group)}}for(var p in t)t[p].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t=this.element==this.element.window,e=this.adapter.offset(),i={},n;this.handleScroll(),n={horizontal:{contextOffset:t?0:e.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:e.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in n){var s=n[o];for(var r in this.waypoints[o]){var a=this.waypoints[o][r],l=a.options.offset,d=a.triggerPoint,c=0,u=null==d,p,h,g,f,v;a.element!==a.element.window&&(c=a.adapter.offset()[s.offsetProp]),"function"==typeof l?l=l.apply(a):"string"==typeof l&&(l=parseFloat(l),a.options.offset.indexOf("%")>-1&&(l=Math.ceil(s.contextDimension*l/100))),p=s.contextScroll-s.contextOffset,a.triggerPoint=c+p-l,h=d<s.oldScroll,g=a.triggerPoint>=s.oldScroll,f=h&&g,v=!h&&!g,!u&&f?(a.queueTrigger(s.backward),i[a.group.id]=a.group):!u&&v?(a.queueTrigger(s.forward),i[a.group.id]=a.group):u&&s.oldScroll>=a.triggerPoint&&(a.queueTrigger(s.forward),i[a.group.id]=a.group)}}for(var m in i)i[m].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},o.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var s=0,r=n.length;r>s;s+=1){var a=n[s];(a.options.continuous||s===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=$(t)}var $=window.jQuery,e=window.Waypoint;$.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),$.each(["extend","inArray","isEmptyObject"],function(e,i){t[i]=$[i]}),e.adapters.push({name:"jquery",Adapter:t}),e.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&(n=t.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=t.extend({},n,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},s=this,r=t(window).width(),a=t(window).height();if(!t(s).data("bxSlider")){var l=function(){t(s).data("bxSlider")||(o.settings=t.extend({},e,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=s.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1?!0:!1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"===o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!==o.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"===o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d())},d=function(){var e=o.children.eq(o.settings.startSlide);s.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=s.parent(),o.settings.ariaLive&&!o.settings.ticker&&o.viewport.attr("aria-live","polite"),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),s.css({width:"horizontal"===o.settings.mode?1e3*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?s.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:h()}),o.settings.pager||o.settings.controls||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"===o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",g()),"horizontal"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"===o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"===o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&O(),o.active.last=o.settings.startSlide===v()-1,o.settings.video&&s.fitVids(),("all"===o.settings.preloadImages||o.settings.ticker)&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.controls&&S(),o.settings.auto&&o.settings.autoControls&&C(),o.settings.pager&&b(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),c(e,u)},c=function(e,i){var n=e.find('img:not([src=""]), iframe').length,o=0;return 0===n?void i():void e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++o===n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!==o.settings.mode&&!o.settings.ticker){var e="vertical"===o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone(!0).addClass("bx-clone"),n=o.children.slice(-e).clone(!0).addClass("bx-clone");o.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),s.append(i).prepend(n)}o.loader.remove(),w(),"vertical"===o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),s.redrawSlider(),o.settings.onSliderLoad.call(s,o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",K),o.settings.auto&&o.settings.autoStart&&(v()>1||o.settings.autoSlideForOnePage)&&_(),o.settings.ticker&&V(),o.settings.pager&&F(o.settings.startSlide),o.settings.controls&&E(),o.settings.touchEnabled&&!o.settings.ticker&&N(),o.settings.keyboardEnabled&&!o.settings.ticker&&t(document).keydown(H)},p=function(){var e=0,n=t();if("vertical"===o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1===o.settings.moveSlides?o.active.index:o.active.index*m();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"===o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"===o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},h=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"===o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},g=function(){var t=o.settings.slideWidth,e=o.viewport.width();if(0===o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"===o.settings.mode)t=e;else if(o.settings.maxSlides>1&&"horizontal"===o.settings.mode){if(e>o.maxThreshold)return t;e<o.minThreshold?t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides:o.settings.shrinkItems&&(t=Math.floor((e+o.settings.slideMargin)/Math.ceil((e+o.settings.slideMargin)/(t+o.settings.slideMargin))-o.settings.slideMargin))}return t},f=function(){var t=1,e=null;return"horizontal"===o.settings.mode&&o.settings.slideWidth>0?o.viewport.width()<o.minThreshold?t=o.settings.minSlides:o.viewport.width()>o.maxThreshold?t=o.settings.maxSlides:(e=o.children.first().width()+o.settings.slideMargin,t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)):"vertical"===o.settings.mode&&(t=o.settings.minSlides),t},v=function(){var t=0,e=0,i=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/m());else for(;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},m=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},w=function(){var t,e,i;o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop?"horizontal"===o.settings.mode?(e=o.children.last(),t=e.position(),y(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===o.settings.mode&&(i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position(),y(-t.top,"reset",0)):(t=o.children.eq(o.active.index*m()).position(),o.active.index===v()-1&&(o.active.last=!0),void 0!==t&&("horizontal"===o.settings.mode?y(-t.left,"reset",0):"vertical"===o.settings.mode&&y(-t.top,"reset",0)))},y=function(e,i,n,r){var a,l;o.usingCSS?(l="vertical"===o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",s.css("-"+o.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(s.css(o.animProp,l),0!==n?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),z())}):z()):"reset"===i?s.css(o.animProp,l):"ticker"===i&&(s.css("-"+o.cssPrefix+"-transition-timing-function","linear"),s.css(o.animProp,l),0!==n?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(r.resetValue,"reset",0),q())}):(y(r.resetValue,"reset",0),q()))):(a={},a[o.animProp]=e,"slide"===i?s.animate(a,n,o.settings.easing,function(){z()}):"reset"===i?s.css(o.animProp,e):"ticker"===i&&s.animate(a,n,"linear",function(){y(r.resetValue,"reset",0),q()}))},x=function(){for(var e="",i="",n=v(),s=0;n>s;s++)i="",o.settings.buildPager&&t.isFunction(o.settings.buildPager)||o.settings.pagerCustom?(i=o.settings.buildPager(s),o.pagerEl.addClass("bx-custom-pager")):(i=s+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+i+"</a></div>";o.pagerEl.html(e)},b=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),x()),o.pagerEl.on("click touchend","a",P)},S=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click touchend",k),o.controls.prev.bind("click touchend",A),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",T),o.controls.autoEl.on("click",".bx-stop",I),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),D(o.settings.autoStart?"stop":"start")},O=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},k=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),s.goToNextSlide())},A=function(t){t.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),s.goToPrevSlide())},T=function(t){s.startAuto(),t.preventDefault()},I=function(t){s.stopAuto(),t.preventDefault()},P=function(e){var i,n;e.preventDefault(),o.controls.el.hasClass("disabled")||(o.settings.auto&&o.settings.stopAutoOnClick&&s.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")),n!==o.active.index&&s.goToSlide(n)))},F=function(e){var i=o.children.length;return"short"===o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},z=function(){if(o.settings.infiniteLoop){var t="";0===o.active.index?t=o.children.eq(0).position():o.active.index===v()-1&&o.carousel?t=o.children.eq((v()-1)*m()).position():o.active.index===o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"===o.settings.mode?y(-t.left,"reset",0):"vertical"===o.settings.mode&&y(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)},D=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},E=function(){1===v()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0===o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index===v()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},_=function(){o.settings.autoDelay>0?setTimeout(s.startAuto,o.settings.autoDelay):(s.startAuto(),t(window).focus(function(){s.startAuto()}).blur(function(){s.stopAuto()})),o.settings.autoHover&&s.hover(function(){o.interval&&(s.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(s.startAuto(!0),o.autoPaused=null)})},V=function(){var e,i,n,r,a,l,d,c,u=0;"next"===o.settings.autoDirection?s.append(o.children.clone().addClass("bx-clone")):(s.prepend(o.children.clone().addClass("bx-clone")),e=o.children.first().position(),u="horizontal"===o.settings.mode?-e.left:-e.top),y(u,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&(o.usingCSS?(r="horizontal"===o.settings.mode?4:5,o.viewport.hover(function(){i=s.css("-"+o.cssPrefix+"-transform"),n=parseFloat(i.split(",")[r]),y(n,"reset",0)},function(){c=0,o.children.each(function(e){c+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=o.settings.speed/c,l="horizontal"===o.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(n))),q(d)})):o.viewport.hover(function(){s.stop()},function(){c=0,o.children.each(function(e){c+="horizontal"===o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=o.settings.speed/c,l="horizontal"===o.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(s.css(l)))),q(d)})),q()},q=function(t){var e,i,n,r=t?t:o.settings.speed,a={left:0,top:0},l={left:0,top:0};"next"===o.settings.autoDirection?a=s.find(".bx-clone").first().position():l=o.children.first().position(),e="horizontal"===o.settings.mode?-a.left:-a.top,i="horizontal"===o.settings.mode?-l.left:-l.top,n={resetValue:i},y(e,"ticker",r,n)},M=function(e){var i=t(window),n={top:i.scrollTop(),left:i.scrollLeft()},o=e.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),o.right=o.left+e.outerWidth(),o.bottom=o.top+e.outerHeight(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)},H=function(t){var e=document.activeElement.tagName.toLowerCase(),i="input|textarea",n=new RegExp(e,["i"]),o=n.exec(i);if(null==o&&M(s)){if(39===t.keyCode)return k(t),!1;if(37===t.keyCode)return A(t),!1}},N=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart MSPointerDown pointerdown",W),o.viewport.on("click",".bxslider a",function(t){o.viewport.hasClass("click-disabled")&&(t.preventDefault(),o.viewport.removeClass("click-disabled"))})},W=function(t){if(o.controls.el.addClass("disabled"),o.working)t.preventDefault(),o.controls.el.removeClass("disabled");else{o.touch.originalPos=s.position();var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e];o.touch.start.x=i[0].pageX,o.touch.start.y=i[0].pageY,o.viewport.get(0).setPointerCapture&&(o.pointerId=e.pointerId,o.viewport.get(0).setPointerCapture(o.pointerId)),o.viewport.bind("touchmove MSPointerMove pointermove",j),o.viewport.bind("touchend MSPointerUp pointerup",R),o.viewport.bind("MSPointerCancel pointercancel",L)}},L=function(t){y(o.touch.originalPos.left,"reset",0),o.controls.el.removeClass("disabled"),o.viewport.unbind("MSPointerCancel pointercancel",L),o.viewport.unbind("touchmove MSPointerMove pointermove",j),o.viewport.unbind("touchend MSPointerUp pointerup",R),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},j=function(t){var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=Math.abs(i[0].pageX-o.touch.start.x),s=Math.abs(i[0].pageY-o.touch.start.y),r=0,a=0;3*n>s&&o.settings.preventDefaultSwipeX?t.preventDefault():3*s>n&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==o.settings.mode&&o.settings.oneToOneTouch&&("horizontal"===o.settings.mode?(a=i[0].pageX-o.touch.start.x,r=o.touch.originalPos.left+a):(a=i[0].pageY-o.touch.start.y,r=o.touch.originalPos.top+a),y(r,"reset",0))},R=function(t){o.viewport.unbind("touchmove MSPointerMove pointermove",j),o.controls.el.removeClass("disabled");var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=0,r=0;o.touch.end.x=i[0].pageX,o.touch.end.y=i[0].pageY,"fade"===o.settings.mode?(r=Math.abs(o.touch.start.x-o.touch.end.x),r>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto())):("horizontal"===o.settings.mode?(r=o.touch.end.x-o.touch.start.x,n=o.touch.originalPos.left):(r=o.touch.end.y-o.touch.start.y,n=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0===o.active.index&&r>0||o.active.last&&0>r)?y(n,"reset",200):Math.abs(r)>=o.settings.swipeThreshold?(0>r?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):y(n,"reset",200)),o.viewport.unbind("touchend MSPointerUp pointerup",R),o.viewport.get(0).releasePointerCapture&&o.viewport.get(0).releasePointerCapture(o.pointerId)},K=function(e){if(o.initialized)if(o.working)window.setTimeout(K,10);else{var i=t(window).width(),n=t(window).height();(r!==i||a!==n)&&(r=i,a=n,s.redrawSlider(),o.settings.onSliderResize.call(s,o.active.index))}},Q=function(t){var e=f();o.settings.ariaHidden&&!o.settings.ticker&&(o.children.attr("aria-hidden","true"),o.children.slice(t,t+e).attr("aria-hidden","false"))},B=function(t){return 0>t?o.settings.infiniteLoop?v()-1:o.active.index:t>=v()?o.settings.infiniteLoop?0:o.active.index:t};return s.goToSlide=function(e,i){var n,r,a,l,d=!0,c=0,u={left:0,top:0},h=null;if(o.oldIndex=o.active.index,o.active.index=B(e),!o.working&&o.active.index!==o.oldIndex){if(o.working=!0,d=o.settings.onSlideBefore.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index),"undefined"!=typeof d&&!d)return o.active.index=o.oldIndex,void(o.working=!1);"next"===i?o.settings.onSlideNext.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(d=!1):"prev"===i&&(o.settings.onSlidePrev.call(s,o.children.eq(o.active.index),o.oldIndex,o.active.index)||(d=!1)),o.active.last=o.active.index>=v()-1,(o.settings.pager||o.settings.pagerCustom)&&F(o.active.index),o.settings.controls&&E(),"fade"===o.settings.mode?(o.settings.adaptiveHeight&&o.viewport.height()!==p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),
o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),z()})):(o.settings.adaptiveHeight&&o.viewport.height()!==p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),!o.settings.infiniteLoop&&o.carousel&&o.active.last?"horizontal"===o.settings.mode?(h=o.children.eq(o.children.length-1),u=h.position(),c=o.viewport.width()-h.outerWidth()):(n=o.children.length-o.settings.minSlides,u=o.children.eq(n).position()):o.carousel&&o.active.last&&"prev"===i?(r=1===o.settings.moveSlides?o.settings.maxSlides-m():(v()-1)*m()-(o.children.length-o.settings.maxSlides),h=s.children(".bx-clone").eq(r),u=h.position()):"next"===i&&0===o.active.index?(u=s.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1):e>=0&&(l=e*parseInt(m()),u=o.children.eq(l).position()),"undefined"!=typeof u?(a="horizontal"===o.settings.mode?-(u.left-c):-u.top,y(a,"slide",o.settings.speed)):o.working=!1),o.settings.ariaHidden&&Q(o.active.index*m())}},s.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;s.goToSlide(t,"next")}},s.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!==o.active.index){var t=parseInt(o.active.index)-1;s.goToSlide(t,"prev")}},s.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"===o.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&t!==!0&&D("stop"))},s.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&t!==!0&&D("start"))},s.getCurrentSlide=function(){return o.active.index},s.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},s.getSlideElement=function(t){return o.children.eq(t)},s.getSlideCount=function(){return o.children.length},s.isWorking=function(){return o.working},s.redrawSlider=function(){o.children.add(s.find(".bx-clone")).outerWidth(g()),o.viewport.css("height",p()),o.settings.ticker||w(),o.active.last&&(o.active.index=v()-1),o.active.index>=v()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(x(),F(o.active.index)),o.settings.ariaHidden&&Q(o.active.index*m())},s.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&!o.settings.pagerCustom&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",K),o.settings.keyboardEnabled&&t(document).unbind("keydown",H),t(this).removeData("bxSlider"))},s.reloadSlider=function(e){void 0!==e&&(n=e),s.destroySlider(),l(),t(s).data("bxSlider",this)},l(),t(s).data("bxSlider",this),this}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=n(String(t||"").toLowerCase()),!t||!t.length)return[];var e,i,s,a,l=[],d=t.split(/ +/);for(e=0,i=d.length;i>e;e++){if(s=o(d[e]),this.settings.diacritics)for(a in r)r.hasOwnProperty(a)&&(s=s.replace(new RegExp(a,"g"),r[a]));l.push({string:d[e],regex:new RegExp(s,"i")})}return l},t.prototype.iterator=function(t,e){var i;i=s(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;i>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},i.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var i,n,o,s;i=this,t=i.prepareSearch(t,e),o=t.tokens,n=t.options.fields,s=o.length;var r=function(t,e){var i,n;return t?(t=String(t||""),n=t.search(e.regex),-1===n?0:(i=e.string.length/t.length,0===n&&(i+=.5),i)):0},a=function(){var t=n.length;return t?1===t?function(t,e){return r(e[n[0]],t)}:function(e,i){for(var o=0,s=0;t>o;o++)s+=r(i[n[o]],e);return s/t}:function(){return 0}}();return s?1===s?function(t){return a(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;s>i;i++){if(e=a(o[i],t),0>=e)return 0;n+=e}return n/s}:function(t){for(var e=0,i=0;s>e;e++)i+=a(o[e],t);return i/s}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var n,o,s,r,a,l,d,c,u,p,h;if(s=this,t=s.prepareSearch(t,i),h=!t.query&&i.sort_empty||i.sort,u=function(t,e){return"$score"===t?e.score:s.items[e.id][t]},a=[],h)for(n=0,o=h.length;o>n;n++)(t.query||"$score"!==h[n].field)&&a.push(h[n]);if(t.query){for(p=!0,n=0,o=a.length;o>n;n++)if("$score"===a[n].field){p=!1;break}p&&a.unshift({field:"$score",direction:"desc"})}else for(n=0,o=a.length;o>n;n++)if("$score"===a[n].field){a.splice(n,1);break}for(c=[],n=0,o=a.length;o>n;n++)c.push("desc"===a[n].direction?-1:1);return l=a.length,l?1===l?(r=a[0].field,d=c[0],function(t,i){return d*e(u(r,t),u(r,i))}):function(t,i){var n,o,s,r,d;for(n=0;l>n;n++)if(d=a[n].field,o=c[n]*e(u(d,t),u(d,i)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=i({},e);var n=e.fields,o=e.sort,r=e.sort_empty;return n&&!s(n)&&(e.fields=[n]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var i=this,n,o,s,r,a,l;return s=this.prepareSearch(t,e),e=s.options,t=s.query,l=e.score||i.getScoreFunction(s),t.length?i.iterator(i.items,function(t,i){o=l(t),(e.filter===!1||o>0)&&s.items.push({score:o,id:i})}):i.iterator(i.items,function(t,e){s.items.push({score:1,id:e})}),a=i.getSortFunction(s,e),a&&s.items.sort(a),s.total=s.items.length,"number"==typeof e.limit&&(s.items=s.items.slice(0,e.limit)),s};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=a(String(t||"")),e=a(String(e||"")),t>e?1:e>t?-1:0)},i=function(t,e){var i,n,o,s;for(i=1,n=arguments.length;n>i;i++)if(s=arguments[i])for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},n=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},a=function(){var t,e,i,n,o="",s={};for(i in r)if(r.hasOwnProperty(i))for(n=r[i].substring(2,r[i].length-1),o+=n,t=0,e=n.length;e>t;t++)s[n.charAt(t)]=i;var a=new RegExp("["+o+"]","g");return function(t){return t.replace(a,function(t){return s[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var i,n,o,s=this,r=[];if(s.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(i=0,n=t.length;n>i;i++)"string"==typeof t[i]?r.push(t[i]):(s.plugins.settings[t[i].name]=t[i].options,r.push(t[i].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(s.plugins.settings[o]=t[o],r.push(o));for(;r.length;)s.require(r.shift())},t.prototype.loadPlugin=function(e){var i=this,n=i.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(i,[i.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]},t.define=function(e,i){t.plugins[e]={name:e,fn:i}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function($,t,e){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var i="string"==typeof e?new RegExp(e,"i"):e,n=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(i);if(o>=0&&t.data.length>0){var s=t.data.match(i),r=document.createElement("span");r.className="highlight";var a=t.splitText(o),l=a.splitText(s[0].length),d=a.cloneNode(!0);r.appendChild(d),a.parentNode.replaceChild(r,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=n(t.childNodes[c]);return e};return t.each(function(){n(this)})}},n=function(){};n.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=n.prototype[e[i]]};var o=/Mac/.test(navigator.userAgent),s=65,r=188,a=13,l=27,d=37,c=38,u=80,p=39,h=40,g=78,f=8,v=46,m=16,w=o?91:17,y=o?18:17,x=9,b=1,S=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,O=function(t){return"undefined"!=typeof t},k=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},A=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},T=function(t){return(t+"").replace(/\$/g,"$$$$")},I={};I.before=function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},I.after=function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}};var P=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},F=function(t,e){var i;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,o)},e)}},z=function(t,e,i){var n,o=t.trigger,s={};t.trigger=function(){var i=arguments[0];return-1===e.indexOf(i)?o.apply(t,arguments):void(s[i]=arguments)},i.apply(t,[]),t.trigger=o;for(n in s)s.hasOwnProperty(n)&&o.apply(t,s[n])},D=function(t,e,i,n){t.on(e,i,function(e){for(var i=e.target;i&&i.parentNode!==t[0];)i=i.parentNode;return e.currentTarget=i,n.apply(this,[e])})},E=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},_=function(t,e,i){var n,o,s={};if(i)for(n=0,o=i.length;o>n;n++)s[i[n]]=t.css(i[n]);else s=t.css();e.css(s)},V=function(t,e){if(!t)return 0;var i=$("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");_(e,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var n=i.width();return i.remove(),n},q=function(t){var e=null,i=function(i,n){var o,s,r,a,l,d,c,u;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||t.data("grow")!==!1)&&(o=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(s=i.keyCode,r=s>=97&&122>=s||s>=65&&90>=s||s>=48&&57>=s||32===s,s===v||s===f?(u=E(t[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):s===f&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):s===v&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):r&&(d=i.shiftKey,c=String.fromCharCode(i.keyCode),c=d?c.toUpperCase():c.toLowerCase(),o+=c)),a=t.attr("placeholder"),!o&&a&&(o=a),l=V(o,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()},M=function(e,i){var n,o,s,r,a,l=this;a=e[0],a.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(a,null);if(r=d?d.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,r=r||e.parents("[dir]:first").attr("dir")||"",$.extend(l,{order:0,settings:i,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?b:S,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++M.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:F(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,s=l.settings.options.length;s>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,s=l.settings.optgroups.length;s>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return n.mixin(M),e.mixin(M),$.extend(M.prototype,{setup:function(){var t=this,e=t.settings,i=t.eventNS,n=$(window),s=$(document),r=t.$input,a,l,d,c,u,p,h,g,f,v,x;if(h=t.settings.mode,v=r.attr("class")||"",a=$("<div>").addClass(e.wrapperClass).addClass(v).addClass(h),l=$("<div>").addClass(e.inputClass).addClass("items").appendTo(a),d=$('<input type="text" autocomplete="off" />').appendTo(l).attr("tabindex",r.is(":disabled")?"-1":t.tabIndex),p=$(e.dropdownParent||a),c=$("<div>").addClass(e.dropdownClass).addClass(h).hide().appendTo(p),u=$("<div>").addClass(e.dropdownContentClass).appendTo(c),t.settings.copyClassesToDropdown&&c.addClass(v),a.css({width:r[0].style.width}),t.plugins.names.length&&(x="plugin-"+t.plugins.names.join(" plugin-"),a.addClass(x),c.addClass(x)),(null===e.maxItems||e.maxItems>1)&&t.tagType===b&&r.attr("multiple","multiple"),t.settings.placeholder&&d.attr("placeholder",e.placeholder),!t.settings.splitOn&&t.settings.delimiter){var S=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");t.settings.splitOn=new RegExp("\\s*"+S+"+\\s*")}r.attr("autocorrect")&&d.attr("autocorrect",r.attr("autocorrect")),r.attr("autocapitalize")&&d.attr("autocapitalize",r.attr("autocapitalize")),t.$wrapper=a,t.$control=l,t.$control_input=d,t.$dropdown=c,t.$dropdown_content=u,c.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),c.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),D(l,"mousedown","*:not(input)",function(){return t.onItemSelect.apply(t,arguments)}),q(d),l.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),d.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+i,function(e){t.isCmdDown=e[o?"metaKey":"ctrlKey"],t.isCtrlDown=e[o?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+i,function(e){e.keyCode===y&&(t.isCtrlDown=!1),e.keyCode===m&&(t.isShiftDown=!1),e.keyCode===w&&(t.isCmdDown=!1)}),s.on("mousedown"+i,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),n.on(["scroll"+i,"resize"+i].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),n.on("mousemove"+i,function(){t.ignoreHover=!1}),this.revertSettings={$children:r.children().detach(),tabindex:r.attr("tabindex")},r.attr("tabindex",-1).hide().after(t.$wrapper),$.isArray(e.items)&&(t.setValue(e.items),delete e.items),C&&r.on("invalid"+i,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,r.is(":disabled")&&t.disable(),t.on("change",this.onChange),r.data("selectize",t),r.addClass("selectized"),t.trigger("initialize"),e.preload===!0&&t.onSearchChange("")},setupTemplates:function(){var t=this,e=t.settings.labelField,i=t.settings.optgroupLabelField,n={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,i){return'<div class="option">'+i(t[e])+"</div>"},item:function(t,i){return'<div class="item">'+i(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};t.settings.render=$.extend({},n,t.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,i=t.isDefaultPrevented(),n=$(t.target);if(e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():i||e.setActiveItem(null),!1}else i||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var e=this;e.isFull()||e.isInputHidden||e.isLocked?t.preventDefault():e.settings.splitOn&&setTimeout(function(){for(var t=$.trim(e.$control_input.val()||"").split(e.settings.splitOn),i=0,n=t.length;n>i;i++)e.createItem(t[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=t.target===this.$control_input[0],i=this;if(i.isLocked)return void(t.keyCode!==x&&t.preventDefault());switch(t.keyCode){case s:if(i.isCmdDown)return void i.selectAll();break;case l:return void(i.isOpen&&(t.preventDefault(),t.stopPropagation(),i.close()));case g:if(!t.ctrlKey||t.altKey)break;case h:if(!i.isOpen&&i.hasOptions)i.open();else if(i.$activeOption){i.ignoreHover=!0;var n=i.getAdjacentOption(i.$activeOption,1);n.length&&i.setActiveOption(n,!0,!0)}return void t.preventDefault();case u:if(!t.ctrlKey||t.altKey)break;case c:if(i.$activeOption){i.ignoreHover=!0;var r=i.getAdjacentOption(i.$activeOption,-1);r.length&&i.setActiveOption(r,!0,!0)}return void t.preventDefault();case a:return void(i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),t.preventDefault()));case d:return void i.advanceSelection(-1,t);case p:return void i.advanceSelection(1,t);case x:return i.settings.selectOnTab&&i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),i.isFull()||t.preventDefault()),void(i.settings.create&&i.createItem()&&t.preventDefault());case f:case v:return void i.deleteSelection(t)}return!i.isFull()&&!i.isInputHidden||(o?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var i=e.$control_input.val()||"";e.lastValue!==i&&(e.lastValue=i,e.onSearchChange(i),e.refreshOptions(),e.trigger("type",i))},onSearchChange:function(t){var e=this,i=e.settings.load;i&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(n){i.apply(e,[t,n])})))},onFocus:function(t){var e=this,i=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(e||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,i,n,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=$(t.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(e=i.attr("data-value"),"undefined"!=typeof e&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(e),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(e))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,i=e.val()!==t;i&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===b&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var i=e?[]:["change"];z(this,i,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(t,e){var i=this,n,o,s,r,a,l,d,c;if("single"!==i.settings.mode){if(t=$(t),!t.length)return $(i.$activeItems).removeClass("active"),i.$activeItems=[],void(i.isFocused&&i.showInput());if(n=e&&e.type.toLowerCase(),"mousedown"===n&&i.isShiftDown&&i.$activeItems.length){for(c=i.$control.children(".active:last"),r=Array.prototype.indexOf.apply(i.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(i.$control[0].childNodes,[t[0]]),r>a&&(d=r,r=a,a=d),o=r;a>=o;o++)l=i.$control[0].childNodes[o],-1===i.$activeItems.indexOf(l)&&($(l).addClass("active"),i.$activeItems.push(l));e.preventDefault()}else"mousedown"===n&&i.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(s=i.$activeItems.indexOf(t[0]),i.$activeItems.splice(s,1),t.removeClass("active")):i.$activeItems.push(t.addClass("active")[0]):($(i.$activeItems).removeClass("active"),i.$activeItems=[t.addClass("active")[0]]);i.hideInput(),this.isFocused||i.focus()}},setActiveOption:function(t,e,i){var n,o,s,r,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,t=$(t),t.length&&(l.$activeOption=t.addClass("active"),(e||!O(e))&&(n=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,s=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e,r=s,a=s-n+o,s+o>n+e?l.$dropdown_content.stop().animate({scrollTop:a},i?l.settings.scrollDuration:0):e>s&&l.$dropdown_content.stop().animate({scrollTop:r},i?l.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(t){var e,i,n,o,s,r=this,a=r.settings,l=this.getSearchOptions();if(a.score&&(s=r.settings.score.apply(this,[t]),"function"!=typeof s))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,o=r.sifter.search(t,$.extend(l,{score:s})),r.currentResults=o):o=$.extend(!0,{},r.currentResults),a.hideSelected)for(e=o.items.length-1;e>=0;e--)-1!==r.items.indexOf(k(o.items[e].id))&&o.items.splice(e,1);return o},refreshOptions:function(t){var e,n,o,s,r,a,l,d,c,u,p,h,g,f,v,m;"undefined"==typeof t&&(t=!0);var w=this,y=$.trim(w.$control_input.val()),x=w.search(y),b=w.$dropdown_content,S=w.$activeOption&&k(w.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),r={},a=[],e=0;s>e;e++)for(l=w.options[x.items[e].id],d=w.render("option",l),c=l[w.settings.optgroupField]||"",u=$.isArray(c)?c:[c],n=0,o=u&&u.length;o>n;n++)c=u[n],w.optgroups.hasOwnProperty(c)||(c=""),r.hasOwnProperty(c)||(r[c]=[],a.push(c)),r[c].push(d);for(this.settings.lockOptgroupOrder&&a.sort(function(t,e){var i=w.optgroups[t].$order||0,n=w.optgroups[e].$order||0;return i-n}),p=[],e=0,s=a.length;s>e;e++)c=a[e],w.optgroups.hasOwnProperty(c)&&r[c].length?(h=w.render("optgroup_header",w.optgroups[c])||"",h+=r[c].join(""),p.push(w.render("optgroup",$.extend({},w.optgroups[c],{html:h})))):p.push(r[c].join(""));if(b.html(p.join("")),w.settings.highlight&&x.query.length&&x.tokens.length)for(e=0,s=x.tokens.length;s>e;e++)i(b,x.tokens[e].regex);if(!w.settings.hideSelected)for(e=0,s=w.items.length;s>e;e++)w.getOption(w.items[e]).addClass("selected");g=w.canCreate(y),g&&(b.prepend(w.render("option_create",{input:y})),m=$(b[0].childNodes[0])),w.hasOptions=x.items.length>0||g,w.hasOptions?(x.items.length>0?(v=S&&w.getOption(S),v&&v.length?f=v:"single"===w.settings.mode&&w.items.length&&(f=w.getOption(w.items[0])),f&&f.length||(f=m&&!w.settings.addPrecedence?w.getAdjacentOption(m,1):b.find("[data-selectable]:first"))):f=m,w.setActiveOption(f),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var e,i,n,o=this;if($.isArray(t))for(e=0,i=t.length;i>e;e++)o.addOption(t[e]);else(n=o.registerOption(t))&&(o.userOptions[n]=!0,o.lastQuery=null,o.trigger("option_add",n,t))},registerOption:function(t){var e=k(t[this.settings.valueField]);return!e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=k(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var i=this,n,o,s,r,a,l,d;if(t=k(t),s=k(e[i.settings.valueField]),null!==t&&i.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");d=i.options[t].$order,s!==t&&(delete i.options[t],r=i.items.indexOf(t),-1!==r&&i.items.splice(r,1,s)),e.$order=e.$order||d,i.options[s]=e,a=i.renderCache.item,l=i.renderCache.option,a&&(delete a[t],delete a[s]),l&&(delete l[t],delete l[s]),-1!==i.items.indexOf(s)&&(n=i.getItem(t),o=$(i.render("item",e)),n.hasClass("active")&&o.addClass("active"),n.replaceWith(o)),i.lastQuery=null,i.isOpen&&i.refreshOptions(!1)}},removeOption:function(t,e){var i=this;t=k(t);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[t],o&&delete o[t],delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var i=this.$dropdown.find("[data-selectable]"),n=i.index(t)+e;return n>=0&&n<i.length?i.eq(n):$()},getElementWithValue:function(t,e){if(t=k(t),"undefined"!=typeof t&&null!==t)for(var i=0,n=e.length;n>i;i++)if(e[i].getAttribute("data-value")===t)return $(e[i]);return $()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(t,e){for(var i=$.isArray(t)?t:[t],n=0,o=i.length;o>n;n++)this.isPending=o-1>n,this.addItem(i[n],e)},addItem:function(t,e){var i=e?[]:["change"];z(this,i,function(){var i,n,o,s=this,r=s.settings.mode,a,l,d,c;return t=k(t),-1!==s.items.indexOf(t)?void("single"===r&&s.close()):void(s.options.hasOwnProperty(t)&&("single"===r&&s.clear(e),"multi"===r&&s.isFull()||(i=$(s.render("item",s.options[t])),c=s.isFull(),s.items.splice(s.caretPos,0,t),s.insertAtCaret(i),(!s.isPending||!c&&s.isFull())&&s.refreshState(),s.isSetup&&(o=s.$dropdown_content.find("[data-selectable]"),s.isPending||(n=s.getOption(t),d=s.getAdjacentOption(n,1).attr("data-value"),s.refreshOptions(s.isFocused&&"single"!==r),d&&s.setActiveOption(s.getOption(d))),!o.length||s.isFull()?s.close():s.positionDropdown(),s.updatePlaceholder(),s.trigger("item_add",t,i),s.updateOriginalInput({silent:e})))))})},removeItem:function(t,e){var i=this,n,o,s;n="object"==typeof t?t:i.getItem(t),t=k(n.attr("data-value")),o=i.items.indexOf(t),-1!==o&&(n.remove(),n.hasClass("active")&&(s=i.$activeItems.indexOf(n[0]),i.$activeItems.splice(s,1)),i.items.splice(o,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(t)&&i.removeOption(t,e),o<i.caretPos&&i.setCaret(i.caretPos-1),i.refreshState(),i.updatePlaceholder(),i.updateOriginalInput({silent:e}),i.positionDropdown(),i.trigger("item_remove",t,n))},createItem:function(t,e){var i=this,n=i.caretPos;t=t||$.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof e&&(e=!0),!i.canCreate(t))return o(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},r=P(function(t){if(i.unlock(),!t||"object"!=typeof t)return o();
var s=k(t[i.settings.valueField]);return"string"!=typeof s?o():(i.setTextboxValue(""),i.addOption(t),i.setCaret(n),i.addItem(s),i.refreshOptions(e&&"single"!==i.settings.mode),void o(t))}),a=s.apply(this,[t,r]);return"undefined"!=typeof a&&r(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t,e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",t)),e.refreshClasses()},refreshClasses:function(){var t=this,e=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!$.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!e&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,o,s=this;if(t=t||{},s.tagType===b){for(n=[],e=0,i=s.items.length;i>e;e++)o=s.options[s.items[e]][s.settings.labelField]||"",n.push('<option value="'+A(s.items[e])+'" selected="selected">'+A(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),s.$input.html(n.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(t.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(t):$(this.$control[0].childNodes[e]).before(t),this.setCaret(e+1)},deleteSelection:function(t){var e,i,n,o,s,r,a,l,d,c=this;if(n=t&&t.keyCode===f?-1:1,o=E(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(a=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),s=[],c.$activeItems.length){for(d=c.$control.children(".active:"+(n>0?"last":"first")),r=c.$control.children(":not(input)").index(d),n>0&&r++,e=0,i=c.$activeItems.length;i>e;e++)s.push($(c.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(0>n&&0===o.start&&0===o.length?s.push(c.items[c.caretPos-1]):n>0&&o.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&c.settings.onDelete.apply(c,[s])===!1)return!1;for("undefined"!=typeof r&&c.setCaret(r);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),a&&(l=c.getOption(a),l.length&&c.setActiveOption(l)),!0},advanceSelection:function(t,e){var i,n,o,s,r,a,l=this;0!==t&&(l.rtl&&(t*=-1),i=t>0?"last":"first",n=E(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(s=l.$control_input.val().length,r=0>t?0===n.start&&0===n.length:n.start===s,r&&!s&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+i),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var i=this,n,o;0!==t&&(n=t>0?"next":"prev",i.isShiftDown?(o=i.$control_input[n](),o.length&&(i.hideInput(),i.setActiveItem(o),e&&e.preventDefault())):i.setCaret(i.caretPos+t))},setCaret:function(t){var e=this;if(t="single"===e.settings.mode?e.items.length:Math.max(0,Math.min(e.items.length,t)),!e.isPending){var i,n,o,s,r;for(s=e.$control.children(":not(input)"),i=0,n=s.length;n>i;i++)r=$(s[i]).detach(),t>i?e.$control_input.before(r):e.$control.append(r)}e.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var t=this,e=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),$(window).off(e),$(document).off(e),$(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var i,n,o,s="",r=!1,a=this,l=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===t||"item"===t)&&(i=k(e[a.settings.valueField]),r=!!i),r&&(O(a.renderCache[t])||(a.renderCache[t]={}),a.renderCache[t].hasOwnProperty(i))?a.renderCache[t][i]:(s=a.settings.render[t].apply(this,[e,A]),("option"===t||"option_create"===t)&&(s=s.replace(l,"<$1 data-selectable")),"optgroup"===t&&(n=e[a.settings.optgroupValueField]||"",s=s.replace(l,'<$1 data-group="'+T(A(n))+'"')),("option"===t||"item"===t)&&(s=s.replace(l,'<$1 data-value="'+T(A(i||""))+'"')),r&&(a.renderCache[t][i]=s),s)},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var i=e.settings.createFilter;return t.length&&("function"!=typeof i||i.apply(e,[t]))&&("string"!=typeof i||new RegExp(i).test(t))&&(!(i instanceof RegExp)||i.test(t))}}),M.count=0,M.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},$.fn.selectize=function(t){var e=$.fn.selectize.defaults,i=$.extend({},e,t),n=i.dataAttr,o=i.labelField,s=i.valueField,r=i.optgroupField,a=i.optgroupLabelField,l=i.optgroupValueField,d=function(t,e){var r,a,l,d,c=t.attr(n);if(c)for(e.options=JSON.parse(c),r=0,a=e.options.length;a>r;r++)e.items.push(e.options[r][s]);else{var u=$.trim(t.val()||"");if(!i.allowEmptyOption&&!u.length)return;for(l=u.split(i.delimiter),r=0,a=l.length;a>r;r++)d={},d[o]=l[r],d[s]=l[r],e.options.push(d);e.items=l}},c=function(t,e){var d,c,u,p,h=0,g=e.options,f={},v=function(t){var e=n&&t.attr(n);return"string"==typeof e&&e.length?JSON.parse(e):null},m=function(t,n){t=$(t);var a=k(t.attr("value"));if(a||i.allowEmptyOption)if(f.hasOwnProperty(a)){if(n){var l=f[a][r];l?$.isArray(l)?l.push(n):f[a][r]=[l,n]:f[a][r]=n}}else{var d=v(t)||{};d[o]=d[o]||t.text(),d[s]=d[s]||a,d[r]=d[r]||n,f[a]=d,g.push(d),t.is(":selected")&&e.items.push(a)}},w=function(t){var i,n,o,s,r;for(t=$(t),o=t.attr("label"),o&&(s=v(t)||{},s[a]=o,s[l]=o,e.optgroups.push(s)),r=$("option",t),i=0,n=r.length;n>i;i++)m(r[i],o)};for(e.maxItems=t.attr("multiple")?null:1,p=t.children(),d=0,c=p.length;c>d;d++)u=p[d].tagName.toLowerCase(),"optgroup"===u?w(p[d]):"option"===u&&m(p[d])};return this.each(function(){if(!this.selectize){var n,o=$(this),s=this.tagName.toLowerCase(),r=o.attr("placeholder")||o.attr("data-placeholder");r||i.allowEmptyOption||(r=o.children('option[value=""]').text());var a={placeholder:r,options:[],optgroups:[],items:[]};"select"===s?c(o,a):d(o,a),n=new M(o,$.extend(!0,{},e,a,t))}})},$.fn.selectize.defaults=M.defaults,$.fn.selectize.support={validity:C},M.define("drag_drop",function(t){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var t=e.lock;return function(){var i=e.$control.data("sortable");return i&&i.disable(),t.apply(e,arguments)}}(),e.unlock=function(){var t=e.unlock;return function(){var i=e.$control.data("sortable");return i&&i.enable(),t.apply(e,arguments)}}(),e.setup=function(){var t=e.setup;return function(){t.apply(this,arguments);var i=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=e.$activeItems?e.$activeItems.slice():null,n=[];i.children("[data-value]").each(function(){n.push($(this).attr("data-value"))}),e.setValue(n),e.setActiveItem(t)}})}}()}}),M.define("dropdown_header",function(t){var e=this;t=$.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},t),e.setup=function(){var i=e.setup;return function(){i.apply(e,arguments),e.$dropdown_header=$(t.html(t)),e.$dropdown.prepend(e.$dropdown_header)}}()}),M.define("optgroup_columns",function(t){var e=this;t=$.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,e){var i=t.closest("[data-group]").find("[data-selectable]"),n=i.index(t)+e;return n>=0&&n<i.length?i.eq(n):$()},this.onKeyDown=function(){var t=e.onKeyDown;return function(i){var n,o,s,r;return!this.isOpen||i.keyCode!==d&&i.keyCode!==p?t.apply(this,arguments):(e.ignoreHover=!0,r=this.$activeOption.closest("[data-group]"),n=r.find("[data-selectable]").index(this.$activeOption),r=i.keyCode===d?r.prev("[data-group]"):r.next("[data-group]"),s=r.find("[data-selectable]"),o=s.eq(Math.min(s.length-1,n)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},n=function(){var n,o,s,r,a,l,d;if(d=$("[data-group]",e.$dropdown_content),o=d.length,o&&e.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,n=0;o>n;n++)s=Math.max(s,d.eq(n).height());d.css({height:s})}t.equalizeWidth&&(l=e.$dropdown_content.innerWidth()-i(),r=Math.round(l/o),d.css({width:r}),o>1&&(a=l-r*(o-1),d.eq(o-1).css({width:a})))}};(t.equalizeHeight||t.equalizeWidth)&&(I.after(this,"positionDropdown",n),I.after(this,"refreshOptions",n))}),M.define("remove_button",function(t){if("single"!==this.settings.mode){t=$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var e=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+A(t.title)+'">'+t.label+"</a>",n=function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)};this.setup=function(){var o=e.setup;return function(){if(t.append){var s=e.settings.render.item;e.settings.render.item=function(t){return n(s.apply(this,arguments),i)}}o.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!e.isLocked){var i=$(t.currentTarget).parent();e.setActiveItem(i),e.deleteSelection()&&e.setCaret(e.items.length)}})}}()}}),M.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var i=e.onKeyDown;return function(e){var n,o;return e.keyCode===f&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1,n>=0&&n<this.items.length)?(o=this.options[this.items[n]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):i.apply(this,arguments)}}()}),M}),$(function(){var t=$("#top li.menu-toggle a"),e=$("#top nav.main");$(t).on("click",function(i){i.preventDefault(),e.fadeToggle(200),t.toggleClass("active")}),$(window).resize(function(){var t=$(window).width();t>830&&e.is(":hidden")&&e.removeAttr("style")}),$("#top li.user-toggle a").on("click",function(t){t.preventDefault(),$("#top .login").fadeToggle(200),$("#top li.user-toggle a").toggleClass("active")}),$("a.scroll").click(function(){return $("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500),!1});var i={useEasing:!0,useGrouping:!0,separator:",",decimal:"."},n=!1;$("#stats").waypoint(function(){n||(n=!0,$.each($(".countUp"),function(){var t=$(this).data("count"),e=new CountUp(this,0,t,0,2,i);e.start()}))},{offset:"100%"}),$(".bxslider").show().bxSlider({preloadImages:"all",mode:"fade",speed:600,nextText:'<i class="icon-chevron-right"></i>',prevText:'<i class="icon-chevron-left"></i>'}),$(".selectize").selectize({onChange:function(t){$(this.$control).parent().removeClass("error");var e=$(this.$control).parent().next("label.error");e.length&&e.fadeOut(300)}})});